const data = {
  "country": [
    {
      "name1": "china",
      "item": [
        {
          "name": "bbq chicken heinz",
          "price": 599,
          "image": "china/bbq chicken better quality.png"
        },
        {
          "name": "bbq original heinz",
          "price": 999,
          "image": "china/heinz bbq better quality.jpg"
        },
        {
          "name": "light soy sauce heinz",
          "price": 199,
          "image": "china/heinz light soy sauce Better quality.png"
        },
        {
          "name": "sweet chili heinz",
          "price": 199,
          "image": "china/heinz sweet chili.png"
        },
        {
          "name": "worchester heinz",
          "price": 199,
          "image": "china/heinz worchester.jpeg"
        },
        {
          "name": "oyster sauce heinz",
          "price": 199,
          "image": "china/osyter sauce bad quality.jpg"
        }
      ]
    },
    {
      "name2": "india",
        "item": [
          {
            "name": "chicken curry masala",
            "price": 599,
            "image": "india/chicken curry masala.png"
          },
          {
            "name": "cuncumber",
            "price": 999,
            "image": "india/cuncumber.jpeg"
          },
          {
            "name": "garlic pasta",
            "price": 199,
            "image": "india/garlic pasta.png"
          },
          {
            "name": "garlic pickle",
            "price": 199,
            "image": "india/garlic pickle.png"
          },
          {
            "name": "gulab jamon",
            "price": 199,
            "image": "india/gulab.png"
          },
          {
            "name": "jalapeno",
            "price": 199,
            "image": "india/jalapeno.jpeg"
          },
          {
            "name": "jalebi",
            "price": 199,
            "image": "india/jalebi.png"
          },
          {
            "name": "kashmiri chili powder 200gram",
            "price": 199,
            "image": "india/kashmiri chili powder better quality.jpg"
          },
          {
            "name": "kashmiri chili 50gram.png",
            "price": 199,
            "image": "india/kashmiri chili.png"
          },
          {
            "name": "mango pickle",
            "price": 199,
            "image": "india/mango pickle.jpg"
          },
          {
            "name": "medras curry",
            "price": 199,
            "image": "india/medras curry powder.jpg"
          },
          {
            "name": "rice dose",
            "price": 199,
            "image": "india/rice dose.png"
          },
          {
            "name": "rice idli",
            "price": 199,
            "image": "india/rice idli.png"
          },
          {
            "name": "tandori paste",
            "price": 199,
            "image": "india/tandori paste .jpg"
          },
          {
            "name": "tandori powder",
            "price": 199,
            "image": "india/tandori.jpg"
          },
          {
            "name": "udad papad",
            "price": 199,
            "image": "india/udad padad.jpg"
          }
      ]
    },
    {
      "name3":"italy",
      "item":[
          {
              "name":"apple vinger",
              "price":"100",
              "image":"italy/apple vinger.png"
          },
          {
              "name":"balsamic",
              "price":"100",
              "image":"italy/balsamic.jpg"
          },
          
          {
              "name":"white grape organic vinger",
              "price":"100",
              "image":"italy/grape organic.png"
          },
          {
              "name":"apple vinger organic",
              "price":"100",
              "image":"italy/organic apple.png"
          },
          {
              "name":"lemon organic vinger",
              "price":"100",
              "image":"italy/organic lemon.png"
          },
          {
              "name":"red vinger",
              "price":"100",
              "image":"italy/red vinger.jpg"
          },
          {
              "name":"seasoning for sushi-rice ",
              "price":"100",
              "image":"italy/suchi-rice.png"
          },
          {
              "name":"black beans",
              "price":"100",
              "image":"italy/black beans.png"
          },
          {
              "name":"cannellni beans",
              "price":"100",
              "image":"italy/can.png"
          },
          {
              "name":"peeled tomato",
              "price":"100",
              "image":"italy/tomato.png"
          },
          {
              "name":"napoletta",
              "price":"100",
              "image":"italy/napoletta.png"
          },
        
          {
              "name":"panne attima",
              "price":"100",
              "image":"italy/ottima penne .png"
          }, 
          {
              "name":"spagetti ottima",
              "price":"100",
              "image":"italy/ottima spagheti.png"
          },
          
         
          {
              "name":"lumachine 8 ottima",
              "price":"100",
              "image":"italy/pasta.png"
          },
          {
              "name":"pomodori ottima",
              "price":"100",
              "image":"italy/ottima pomodoriiii.png"
          },{
              "name":"pesto",
              "price":"100",
              "image":"italy/pesto.png"
          },{
              "name":"quinoa",
              "price":"100",
              "image":"italy/quinoa.png"
          },{
              "name":"quonina risovi",
              "price":"100",
              "image":"italy/risovi quoinaa rosaa.png"
          },{
              "name":"sushi premium risovi",
              "price":"100",
              "image":"italy/risovi sushi premium.png"
          },
        
          {
              "name":"riso arborio",
              "price":"100",
              "image":"italy/riso arborio.png"
          }
      ]

    },
    {
      "name4":"spain",
      "item":[

          {
              "name": "extra virgin olive 1 litre la pedriza",
              "price": 599,
              "image": "spain/la pedrizaa extra virgin .png"
          },
          {
              "name": "extra virgin olive la pedriza half litre",
              "price": 999,
              "image": "spain/extra virgin olive oil.jpg"
          },
          {
              "name": "virgin olive oil 1 litre la pedriza",
              "price": 199,
              "image": "spain/virgin olive oil 1 liter.jpg"
          },
          {
              "name": "green pepper la pedriza",
              "price": 199,
              "image": "spain/green peppers.png"
          },
          {
              "name": "capers 100g la pedroza",
              "price": 199,
              "image": "spain/cappers.png"
          },
          {
              "name": "capers 720g la padriza",
              "price": 199,
              "image": "spain/la padriza caper 720 g better.png"
          }
         
  ]
    },
    {
      "name5":"tunis",
      "item":[
          {
              "name": "couscous 1kg",
              "price": 599,
              "image": "tunis/diary.png"
          },
          {
              "name": "spaghetti 2 spiga",
              "price": 999,
              "image": "tunis/Spaghetti 2.jpg"
          },
          {
              "name": "spiga coude 2 spiga",
              "price": 199,
              "image": "tunis/SPIGA COUDE ANOTHER.webp"
          },
          {
              "name": "escarget spiga",
              "price": 199,
              "image": "tunis/SPIGA ESCARGET.jpg"
          },
          {
              "name": "fell 2 spiga",
              "price": 199,
              "image": "tunis/SPIGA FELL 2.jpg"
          },
          {
              "name": "fell 3 spiga",
              "price": 199,
              "image": "tunis/SPIGA FELL 3.jpg"
  
          }
          ,
          {
              "name": "lasagne spiga",
              "price": 199,
              "image": "tunis/SPIGA lasagne-500g.jpg" 
          }
          ,
          {
              "name": "plime 2 spiga",
              "price": 199,
              "image": "tunis/SPIGA PLIME.jpg" 
          },
          {
              "name": "spirals spiga",
              "price": 199,
              "image": "tunis/SPIGA SPIRALS.jpg" 
          }
          ,
          {
              "name": "tagiatlee spiga",
              "price": 199,
              "image": "tunis/SPIGA TAGIATLEE.jpg" 
          }
      ]
    },
    {
      "name6":"thiland",
      "item":[
          {
              "name":"concunut milk 1 litre",
              "price":100,
              "image":"thialnd/aroy d cocunut milk.jpg"
          },
          {
              "name":"baby corn",
              "price":100,
              "image":"thialnd/baby corn.png"
          },
          {
              "name":"bambo shoot",
              "price":100,
              "image":"thialnd/bamboo.png"
          },
          {
              "name":"bean sproutgs queen",
              "price":100,
              "image":"thialnd/bean sproutgs.png"
          },
          {
              "name":"bean sproutga sherry",
              "price":100,
              "image":"thialnd/bean.png"
          },
          {
              "name":"boba ",
              "price":100,
              "image":"thialnd/boba.jpg"
          },
          {
              "name":"concunut milk green garden",
              "price":100,
              "image":"thialnd/coconut milk.png"
          },
          {
              "name":"conconut cream queen",
              "price":100,
              "image":"thialnd/conconut cream.png"
          },
          {
              "name":"dark soy sauce ",
              "price":100,
              "image":"thialnd/dark soya sauce.png"
          },
          {
              "name":"light soy ",
              "price":100,
              "image":"thialnd/light soy.png"
          },
          {
              "name":"green curry",
              "price":100,
              "image":"thialnd/green curry.png"
          },
          {
              "name":"hoisin makin",
              "price":100,
              "image":"thialnd/makin hoisin.jpg"
          },
          {
              "name":"matcha",
              "price":100,
              "image":"thialnd/matcha.jpg"
          },
          {
              "name":"mushroom sherry",
              "price":100,
              "image":"thialnd/mushroom.png"
          },
          {
              "name":"pinapple green garden",
              "price":100,
              "image":"thialnd/pinapple.png"
          },
          {
              "name":"coconut milk queen ",
              "price":100,
              "image":"thialnd/quenn coocunut milk.jpg"
          },
          {
              "name":"red curry",
              "price":100,
              "image":"thialnd/red curry.png"
          },
          {
              "name":"saracha hot sauce",
              "price":100,
              "image":"thialnd/saracha.png"
          },
          {
              "name":"sweet chili makin",
              "price":100,
              "image":"thialnd/sweet chili.jpg"
          },
          {
              "name":"sweet chili diamond",
              "price":100,
              "image":"thialnd/sweet chili.png"
          },
          {
              "name":"sweet corn ",
              "price":100,
              "image":"thialnd/sweet corn.png"
          },
           {
              "name":"sweet corn green garden",
              "price":100,
              "image":"thialnd/sweet corn.png"
          },
          {
              "name":"taro",
              "price":100,
              "image":"thialnd/taro.png"
          },
          {
              "name":"tomyum paste",
              "price":100,
              "image":"thialnd/tomyum.png"
          }
      ]
    }
  ]
};
const container = document.getElementById('container');
var totalSum = 0;
var cart={};
let checkoutPage = document.getElementById('page');
let pagediv=document.getElementById('pagediv');
data.country.forEach(country => {
  const countryName = country.name1 || country.name2||country.name3||country.name4||country.name5||country.name6;
 
  country.item.forEach(item => {
      const div = document.createElement('div');
      div.classList.add('item');

      const incbtn=document.createElement('button')
      incbtn.classList.add("incbtn")
incbtn.innerHTML='+';

const cont=document.createElement('span')
cont.classList.add('cont')
cont.innerHTML='0';

const decbtn=document.createElement('button')
decbtn.classList.add("decbtn")
decbtn.innerHTML='-';

      const image = document.createElement('img');
      image.src = item.image;

      div.innerHTML = `
          <strong>${item.name}</strong><br>
         <b> Price: ${item.price}</b> <br>
        <b>  country:${countryName}</b><br>`;

      div.prepend(image);
      div.appendChild(incbtn)
      div.appendChild(cont)
      div.appendChild(decbtn);
      container.appendChild(div);

      var number=0;
      var itemtotal=0

      incbtn.addEventListener('click', ()=> {
      number += 1;  
      cont.innerHTML=`${number}`; 
 
          totalSum += item.price;
          itemTotal = item.price * number; 
          cart[item.name] = { price: item.price, quantity: number,image:item.image  };
         
     });
    
    decbtn.addEventListener('click',function(){
        if (number > 0) {
          number--;
          cont.innerHTML = `${number}`;
          itemTotal = item.price * number; 
          totalSum -= item.price; 
          cart[item.name] = { price: item.price, quantity: number ,image:item.image};

      } else {
          itemTotal = 0;
      }
      cart[item.name] = { price: item.price, quantity: number,image:item.image };
      
    });
  });
  });
  let addToCartBtn= document.getElementById('addToCartBtn'); 
 

 let backbtn = document.getElementById('backbtn');
 
 let page = document.getElementById('page');
 container.appendChild(addToCartBtn)
checkoutForm.style.display='none'
 addToCartBtn.addEventListener('click', () => { 
  
if (backbtn.style.display === 'none') {
  backbtn.style.display = 'block';  
  container.style.display = 'none'; 
  page.style.display='block'
  checkout.style.display='block'
  checkoutForm.style.display='block'
} else {
  backbtn.style.display = 'none';  
  container.style.display = 'flex'; 
  checkout.style.display = 'none';
 
}

let cartContainer = document.getElementById('cartContainer');


let totall =document.createElement('div');
totall.classList.add('totall')
totall.innerHTML=`total amount :${totalSum}`
let orderblock=document.getElementById('orderblock');



for (let itemName in cart) {
  let order = document.createElement('div');
  order.classList.add('orderItem');
  let item = cart[itemName];

  order.innerHTML = `
  
      <img src="${item.image}" style="width:80px;height:80px;object-fit:cover;border-radius:6px;"><br>
   item name: <strong>${itemName}</strong><br>
      Price: ${item.price}<br>
      Quantity: ${item.quantity}<br>
      Total: ${item.price * item.quantity}<br>
      
  `;
   orderblock.appendChild(order)
   orderblock.appendChild(totall);
  cartContainer.appendChild(orderblock);

  }
pagediv.appendChild(backbtn)
pagediv.appendChild(checkout)

page.appendChild(cartContainer);
page.appendChild(pagediv);
pagediv.style.display = 'flex';
pagediv.style.justifyContent = 'center';
pagediv.style.margin='15px'
}); 

backbtn.addEventListener('click', () => { 
cart={}; 
container.style.display = 'flex';
backbtn.style.display = 'none';  
page.style.display='none';
 checkoutForm.style.display='none'
});

let checkout=document.createElement('button')
checkout.innerHTML='Checkout';
checkout.classList.add('checkout');
checkout.style.margin='4px'
checkout.style.width='150px'
checkout.style.height='50px'
checkout.style.borderRadius='10px'

  var radioA = document.getElementById('radioA');
  var radioB = document.getElementById('radioB');
  let cashDetails=document.getElementById('cashDetails')
  let visaDetails=document.getElementById('visaDetails')
  radioA.addEventListener('change', function () {
    if (radioA.checked) {
        visaDetails.style.display = 'block';
        cashDetails.style.display = 'none';
    }
});
radioB.addEventListener('change', function () {
  if (radioB.checked) {
      cashDetails.style.display = 'block';
      visaDetails.style.display = 'none';
  }
});
document.addEventListener("DOMContentLoaded", function() {
  const topButton = document.getElementById("topButton");

  window.addEventListener("scroll", function() {
    if (window.scrollY > 200) {
      topButton.style.display = "block";
    } else {
      topButton.style.display = "none";
    }
  });

  topButton.addEventListener("click", function() {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
});